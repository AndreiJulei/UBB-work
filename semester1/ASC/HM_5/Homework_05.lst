     1                                  bits 32 ; assembling for the 32 bits architecture
     2                                  
     3                                  ; declare the EntryPoint (a label defining the very first instruction of the program)
     4                                  global start        
     5                                  
     6                                  ; declare external functions needed by our program
     7                                  extern exit               ; tell nasm that exit exists even if we won't be defining it
     8                                  import exit msvcrt.dll    ; exit is a function that ends the calling process. It is defined in msvcrt.dll
     9                                                            ; msvcrt.dll contains exit, printf and all the other important C-runtime specific functions
    10                                  
    11                                  ; our data is declared here (the variables needed by our program)
    12                                  segment data use32 class=data
    13                                      ; ...
    14                                      ;problem 15:
    15                                      ;Two byte strings A and B are given. Obtain the string R by concatenating the elements of B in reverse order and the odd elements of A.
    16                                      
    17 00000000 31323334                    A db '1','2','3','4'
    18 00000004 35363738                    B db '5','6','7','8'
    19                                      
    20                                      L_A equ $-A
    21                                      L_B equ $-B
    22                                      
    23 00000008 00<rept>                    R times (L_A + L_B) db 0
    24                                      
    25                                  ; our code starts here
    26                                  segment code use32 class=code
    27                                      start:
    28                                          ; ...
    29 00000000 8B0D04000000                    mov ecx,[L_B]
    30 00000006 BE[08000000]                    mov esi,R   
    31 0000000B 8B1D04000000                    mov ebx,[L_B]
    32                                          
    33                                          start_loop:
    34 00000011 8A83[03000000]                      mov al,[B+ebx-1]         ;load the caracters from last to first
    35 00000017 8886[08000000]                      mov [R+esi],al
    36 0000001D 4B                                  dec ebx
    37 0000001E 46                                  inc esi
    38 0000001F E2F0                            loop start_loop         ; dec ecx(length of B) - loop stops whec ecx =0
    39                                          
    40 00000021 8B0D08000000                    mov ecx,[L_A]
    41 00000027 BF00000000                      mov edi,0
    42 0000002C 8B3504000000                    mov esi,[L_B]
    43                                          
    44                                          loop_A:
    45                                          
    46 00000032 8A87[00000000]                      mov al,[A+edi]              ; store the elements one by one
    47 00000038 2401                                and al,1                    ; compare the least significant bit with 1
    48 0000003A 7603                                jna is_odd                 ; if the value is odd jump to is_odd label
    49                                                 is_even:
    50 0000003C 47                                      inc edi                 ; move the index to the next element in A
    51 0000003D E2F3                                    loop loop_A
    52                                              is_odd: 
    53 0000003F 8886[08000000]                          mov[R+esi],al           ; store the odd character
    54 00000045 46                                      inc esi                 ; go to the next position in R
    55 00000046 47                                      inc edi                 ; go to the next element in A
    56 00000047 E2E9                                    loop loop_A             
    57                                              
    58                                          
    59                                          ; exit(0)
    60 00000049 6A00                            push    dword 0      ; push the parameter for exit onto the stack
    61 0000004B FF15[00000000]                  call    [exit]       ; call exit to terminate the program
